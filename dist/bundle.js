/*! Powered by lucas */!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,r){!function(e,t){if(!x[e]||!b[e])return;for(var r in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(p[r]=t[r]);0==--v&&0===w&&j()}(e,r),t&&t(e,r)};var r,n=!0,o="ea02abd7109f2d50f03c",i=1e4,c={},a=[],d=[];function l(e){var t=E[e];if(!t)return D;var n=function(n){return t.hot.active?(E[n]?-1===E[n].parents.indexOf(e)&&E[n].parents.push(e):(a=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),a=[]),D(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,o(i));return n.e=function(e){return"ready"===u&&f("prepare"),w++,D.e(e).then(t,function(e){throw t(),e});function t(){w--,"prepare"===u&&(g[e]||_(e),0===w&&0===v&&j())}},n.t=function(e,t){return 1&t&&(e=n(e)),D.t(e,-2&t)},n}var s=[],u="idle";function f(e){u=e;for(var t=0;t<s.length;t++)s[t].call(null,e)}var h,p,y,v=0,w=0,g={},b={},x={};function m(e){return+e+""===e?+e:e}function O(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return n=e,f("check"),(t=i,t=t||1e4,new Promise(function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=D.p+""+o+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void r(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;b={},g={},x=e.c,y=e.h,f("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});p={};return _(0),"prepare"===u&&0===w&&0===v&&j(),t});var t}function _(e){x[e]?(b[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.src=D.p+""+e+"."+o+".hot-update.js",t.appendChild(r)}(e)):g[e]=!0}function j(){f("ready");var e=h;if(h=null,e)if(n)Promise.resolve().then(function(){return P(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&t.push(m(r));e.resolve(t)}}function P(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var r,n,i,d,l;function s(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var o=n.pop(),i=o.id,c=o.chain;if((d=E[i])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var a=0;a<d.parents.length;a++){var l=d.parents[a],s=E[l];if(s){if(s.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(s.hot._acceptedDependencies[i]?(r[l]||(r[l]=[]),h(r[l],[i])):(delete r[l],t.push(l),n.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var v={},w=[],g={},b=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var O in p)if(Object.prototype.hasOwnProperty.call(p,O)){var _;l=m(O);var j=!1,P=!1,k=!1,H="";switch((_=p[O]?s(l):{type:"disposed",moduleId:O}).chain&&(H="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+_.moduleId+H));break;case"declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+H));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(_),t.ignoreUnaccepted||(j=new Error("Aborted because "+l+" is not accepted"+H));break;case"accepted":t.onAccepted&&t.onAccepted(_),P=!0;break;case"disposed":t.onDisposed&&t.onDisposed(_),k=!0;break;default:throw new Error("Unexception type "+_.type)}if(j)return f("abort"),Promise.reject(j);if(P)for(l in g[l]=p[l],h(w,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,l)&&(v[l]||(v[l]=[]),h(v[l],_.outdatedDependencies[l]));k&&(h(w,[_.moduleId]),g[l]=b)}var I,S=[];for(n=0;n<w.length;n++)l=w[n],E[l]&&E[l].hot._selfAccepted&&S.push({module:l,errorHandler:E[l].hot._selfAccepted});f("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var M,A,T=w.slice();T.length>0;)if(l=T.pop(),d=E[l]){var q={},R=d.hot._disposeHandlers;for(i=0;i<R.length;i++)(r=R[i])(q);for(c[l]=q,d.hot.active=!1,delete E[l],delete v[l],i=0;i<d.children.length;i++){var U=E[d.children[i]];U&&((I=U.parents.indexOf(l))>=0&&U.parents.splice(I,1))}}for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(d=E[l]))for(A=v[l],i=0;i<A.length;i++)M=A[i],(I=d.children.indexOf(M))>=0&&d.children.splice(I,1);for(l in f("apply"),o=y,g)Object.prototype.hasOwnProperty.call(g,l)&&(e[l]=g[l]);var C=null;for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(d=E[l])){A=v[l];var X=[];for(n=0;n<A.length;n++)if(M=A[n],r=d.hot._acceptedDependencies[M]){if(-1!==X.indexOf(r))continue;X.push(r)}for(n=0;n<X.length;n++){r=X[n];try{r(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:A[n],error:e}),t.ignoreErrored||C||(C=e)}}}for(n=0;n<S.length;n++){var N=S[n];l=N.module,a=[l];try{D(l)}catch(e){if("function"==typeof N.errorHandler)try{N.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:r,originalError:e}),t.ignoreErrored||C||(C=r),C||(C=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||C||(C=e)}}return C?(f("fail"),Promise.reject(C)):(f("idle"),new Promise(function(e){e(w)}))}var E={};function D(t){if(E[t])return E[t].exports;var n=E[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:O,apply:P,status:function(e){if(!e)return u;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:c[e]};return r=void 0,t}(t),parents:(d=a,a=[],d),children:[]};return e[t].call(n.exports,n,n.exports,l(t)),n.l=!0,n.exports}D.m=e,D.c=E,D.d=function(e,t,r){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(D.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)D.d(r,n,function(t){return e[t]}.bind(null,n));return r},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="",D.h=function(){return o},l(0)(D.s=0)}([function(e,t,r){"use strict";r(1);var n=r(2),o=r(3),i=document.querySelector("#canvas");i.width=900,i.height=550;var c=i.getContext("2d"),a=new n(900,550,"yellow");a.draw(c);var d=new o(200,200,100,100,"hello");d.draw(c);var l=[],s=a;l.push({weight:0,x:d.rect.x,y:d.rect.y,width:d.rect.width,height:d.rect.height,component:d,selected:!1});var u=!1,f=!1;i.onmousedown=function(e){var t=e.layerX,r=e.layerY,n=l;c.clearRect(0,0,900,550),s.draw(c),n.forEach(function(e){e.component.draw(c,{x:e.x,y:e.y,width:e.width,height:e.height},!1),e.selected=!1});for(var o=0,i=n.length;o<i;++o){var a=n[o];if(t>a.x-5&&t<a.x+5&&r>a.y-5&&r<a.y+5||t>a.x+a.width-5&&t<a.x+a.width+5&&r>a.y-5&&r<a.y-5||t>a.x-5&&t<a.x+5&&r>a.y+a.height-5&&r<a.y+a.height-5||t>a.x+a.width-5&&t<a.x+a.width+5&&r>a.y+a.height-5&&r<a.y+a.height-5)return console.log("resize"),u=!0,void a.component;if(t>a.x&&t<a.x+a.width&&r>a.y&&r<a.y+a.height)return console.log("move"),f=!0,a,a.selected=!0,void a.component.draw(c,null,!0)}},i.onmousemove=function(e){if(f||u){var t=e.layerX,r=e.layerY;if(f){i.style.cursor="move",c.clearRect(0,0,900,550);var n=l;s.draw(c);for(var o=0,a=n.length;o<a;++o){var d=n[o];d.component.draw(c,{x:d.selected?d.x=t:d.x,y:d.selected?d.y=r:d.y,width:d.width,height:d.height},d.selected)}}}},i.onmouseup=function(e){console.log("up"),f=!1,u=!1;var t=l;i.style.cursor="default",t.forEach(function(e){e.selected=!1})}},function(e,t,r){},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=r,this.color=n}return n(e,[{key:"draw",value:function(e){e.beginPath(),e.rect(0,0,this.width,this.height),e.fillStyle=this.color,e.fill()}},{key:"rect",get:function(){return{x:0,y:0,width:this.width,height:this.height}}}]),e}();e.exports=o},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,r,n,i){o(this,e),this.x=t,this.y=r,this.width=n,this.height=i}return n(e,[{key:"draw",value:function(e,t){if(!e)throw new Error("context is undefined");var r;t&&(r=this,console.log("call"),r.x=t.x||r.x,r.y=t.y||r.y,r.width=t.width||r.width,r.height=t.height||r.height),e.beginPath(),e.rect(this.x,this.y,this.width,this.height),e.strokeStyle="gray",e.lineWidth=1,e.stroke();for(var n=[{x:this.x,y:this.y},{x:this.x,y:this.y+this.height},{x:this.x+this.width,y:this.y},{x:this.x+this.width,y:this.y+this.height}],o=0,i=n.length;o<i;++o)e.beginPath(),e.arc(n[o].x,n[o].y,5,0,2*Math.PI,!1),e.fillStyle="gray",e.fill()}},{key:"rect",get:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}}]),e}(),c=function(e){function t(e,r,n,i,c,a,d){o(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n,i));return l.font=(a||"36px")+" Arial",l.color=d||"#000",l.text=c||"",l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),n(t,[{key:"draw",value:function(e,r,n){n&&function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var c=o.get;return void 0!==c?c.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,e,r),e.beginPath(),e.font=this.font,e.textBaseline="top",e.fillStyle=this.color,e.fillText(this.text,this.x,this.y,this.width)}}]),t}();e.exports=c}]);
//# sourceMappingURL=bundle.js.map